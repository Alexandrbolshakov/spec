function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const block=document.querySelector(".block"),titles=document.querySelectorAll(".block__title");function resetClasses(){titles.forEach(e=>{e.classList.remove("active"),e.nextElementSibling.classList.remove("show")})}titles.length>0&&block&&titles.forEach(e=>{e.addEventListener("click",()=>{block.classList.contains("one")?e.classList.contains("active")?resetClasses():(resetClasses(),e.classList.add("active"),e.nextElementSibling.classList.add("show")):(e.classList.toggle("active"),e.nextElementSibling.classList.toggle("show"))})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}e.addEventListener("submit",(async function(n){n.preventDefault();let o=function(e){let s=0;return document.querySelectorAll("._req").forEach(e=>{!function(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}(e),e.classList.contains("_email")?function(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?w+)*(\.\w{2,8})+$/.test(e.value)}(e)&&(t(e),s++):("checkbox"===e.getAttribute("type")&&!1===e.checked||""===e.value)&&(t(e),s++)}),s}(),c=new FormData(e);if(0===o){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:c});if(t.ok){let n=await t.json();alert(n.message),s.innerHTML="",e.reset(),e.classList.remove("_sending")}else alert("Ошибка"),e.classList.remove("_sending")}else alert("Заполните все обязательные поля")}));const s=document.getElementById("formPreview");document.querySelectorAll('[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.href.replace(/[^#]*(.*)/,"$1");document.getElementById(s.replace("#","")).scrollIntoView({behavior:"smooth"})})});const n=document.querySelector(".form__button"),o=document.querySelector(".form__button-confirm");n&&o&&n.addEventListener("click",()=>{o.classList.add("active"),setInterval(()=>{o.classList.remove("active")},15e3)})});